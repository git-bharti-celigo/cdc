# ================================================
# CDC POC Configuration
# ================================================

# Application Configuration
quarkus.http.port=9123
quarkus.http.host=0.0.0.0

# Logging Configuration
quarkus.log.level=INFO
quarkus.log.category."com.celigo".level=DEBUG

# ================================================
# Debezium Configuration (DISABLED BY DEFAULT)
# ================================================

# Enable Debezium engine (enabled by default for POC)
debezium.enabled=true

debezium.mongodb.connection.string=mongodb+srv://admin:admin@cluster0.6acw9jb.mongodb.net/testdb
# Database and collection to monitor
debezium.mongodb.database=testdb
debezium.mongodb.collection=testcol

# Debezium Engine Settings (all configurable)
debezium.connector.class=io.debezium.connector.mongodb.MongoDbConnector
debezium.topic.prefix=cdc-poc
debezium.snapshot.mode=no_data
debezium.capture.mode=change_streams
debezium.tasks.max=1

# ================================================
# Graceful Shutdown Configuration (Production)
# ================================================

# Enable graceful shutdown with timeout
quarkus.shutdown.timeout=5s

# Health checks configuration (matching streaming service)
# /health - Custom health endpoint (simple text response)
# /livez - Liveness probe (matches streaming service)
# /readyz - Readiness probe (matches streaming service)
# /shutdownServer - Graceful shutdown (matches streaming service /stopServer)


# ================================================
# Debug Logging (applies to all profiles)
# ================================================
quarkus.log.category."com.celigo.cdc".level=DEBUG
quarkus.log.category."io.debezium".level=DEBUG
# Note: Management interface not available in Quarkus 3.24.2
# All endpoints available on main port 9123

# To test Debezium in dev mode:
# 1. Set %dev.debezium.enabled=true
# 2. Ensure MongoDB is running on localhost:27017
# 3. Create database 'testdb' with collection 'testcol'
# 4. Run: ./mvnw quarkus:dev
