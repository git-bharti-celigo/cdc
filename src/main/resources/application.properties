# ================================================
# CDC POC Configuration
# ================================================

# Application Configuration
quarkus.http.port=9123
quarkus.http.host=0.0.0.0

# Logging Configuration
quarkus.log.level=INFO
quarkus.log.category."com.celigo".level=DEBUG

# ================================================
# Debezium Configuration (DISABLED BY DEFAULT)
# ================================================

# Enable Debezium engine (set to true to activate)
debezium.enabled=false

# MongoDB Connection (safe defaults - won't connect anywhere)
# To enable: set debezium.enabled=true and update these properties
debezium.mongodb.connection.string=mongodb://localhost:27017/testdb
debezium.mongodb.database=testdb
debezium.mongodb.collection=testcol

# Debezium Engine Settings
debezium.connector.class=io.debezium.connector.mongodb.MongoDbConnector
debezium.topic.prefix=cdc-poc
debezium.snapshot.mode=no_data
debezium.capture.mode=change_streams

# ================================================
# Graceful Shutdown Configuration (Production)
# ================================================

# Enable graceful shutdown with timeout
quarkus.shutdown.timeout=5s

# Health checks configuration (matching streaming service)
# /health - Custom health endpoint (simple text response)
# /livez - Liveness probe (matches streaming service)
# /readyz - Readiness probe (matches streaming service)
# /shutdownServer - Graceful shutdown (matches streaming service /stopServer)

# ================================================
# Development Profile (enables Debezium for dev testing)
# ================================================
%dev.debezium.enabled=false
%dev.quarkus.log.category."io.debezium".level=DEBUG
# Note: Management interface not available in Quarkus 3.24.2
# All endpoints available on main port 9123

# To test Debezium in dev mode:
# 1. Set %dev.debezium.enabled=true
# 2. Ensure MongoDB is running on localhost:27017
# 3. Create database 'testdb' with collection 'testcol'
# 4. Run: ./mvnw quarkus:dev
