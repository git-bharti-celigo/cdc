# ================================================
# CDC POC Configuration
# ================================================

# Application Configuration
quarkus.http.port=9123
quarkus.http.host=0.0.0.0

# ================================================
# Debezium Configuration (DISABLED BY DEFAULT)
# ================================================

# Enable Debezium engine (enabled by default for POC)
debezium.enabled=true

debezium.mongodb.connection.string=mongodb+srv://admin:admin@cluster0.6acw9jb.mongodb.net/testdb
# Database and collection to monitor
debezium.mongodb.database=testdb
debezium.mongodb.collection=testcol

# Debezium Engine Settings (all configurable)
debezium.connector.class=io.debezium.connector.mongodb.MongoDbConnector
debezium.topic.prefix=cdc-poc
debezium.snapshot.mode=no_data
debezium.capture.mode=change_streams
debezium.tasks.max=1

# ================================================
# Graceful Shutdown Configuration (Production)
# ================================================

# Enable graceful shutdown with timeout
quarkus.shutdown.timeout=5s

# Health checks configuration (matching streaming service)
# /health - Custom health endpoint (simple text response)
# /livez - Liveness probe (matches streaming service)
# /readyz - Readiness probe (matches streaming service)
# /shutdownServer - Graceful shutdown (matches streaming service /stopServer)


# ================================================
# Debug Logging (applies to all profiles)
# ================================================
# Force console logging to ensure logs appear
quarkus.log.console.enable=true
quarkus.log.console.level=DEBUG
quarkus.log.level=INFO
quarkus.log.category."com.celigo.cdc".level=DEBUG
quarkus.log.category."io.debezium".level=DEBUG

# MongoDB driver logs (INFO level to avoid spam)
quarkus.log.category."org.mongodb.driver".level=INFO

# Disable problematic loggers that cause conflicts
quarkus.log.category."org.apache.log4j".level=OFF
quarkus.log.category."log4j".level=OFF

# Quarkus startup logs (INFO level)
quarkus.log.category."io.quarkus".level=INFO

# Console format for better readability
quarkus.log.console.format=%d{yyyy-MM-dd HH:mm:ss,SSS} %-5p [%c{3.}] %s%e%n
